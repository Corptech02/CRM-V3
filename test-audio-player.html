<!DOCTYPE html>
<html>
<head>
    <title>Test Audio Player for Lead 8105663</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .profile-section { background: #fff; border: 2px solid #10b981; border-radius: 8px; padding: 15px; margin-bottom: 20px; }
        h3 { margin: 0 0 15px 0; }
    </style>
</head>
<body>
    <h1>Test Audio Player for Lead 8105663</h1>

    <div class="profile-section">
        <h3><i class="fas fa-play-circle"></i> Call Recording</h3>
        <audio controls style="width: 100%; height: 40px;" preload="none">
            <source src="/recordings/recording_8105663.mp3" type="audio/mpeg">
            <source src="/recordings/recording_8105663.mp3" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
    </div>

    <div style="margin-top: 20px;">
        <h4>Lead Data (from API):</h4>
        <div id="leadData">Loading...</div>
    </div>

    <script>
        // Test fetching lead data
        fetch('/api/leads/8105663')
            .then(response => response.json())
            .then(data => {
                document.getElementById('leadData').innerHTML = `
                    <strong>Name:</strong> ${data.name}<br>
                    <strong>Phone:</strong> ${data.phone}<br>
                    <strong>Has Recording:</strong> ${data.hasRecording}<br>
                    <strong>Recording Path:</strong> ${data.recordingPath}<br>
                `;
                console.log('Lead data:', data);
            })
            .catch(error => {
                document.getElementById('leadData').innerHTML = `Error: ${error.message}`;
                console.error('Error:', error);
            });
    </script>
</body>
</html>